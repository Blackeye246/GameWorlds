import Header from "@/components/Header";import { useEffect,useState } from "react";import { useSession } from "next-auth/react";export default function Dashboard({t}){const {data:session,status}=useSession();const [orders,setOrders]=useState([]);useEffect(()=>{if(status==="authenticated"){fetch("/api/orders?mine=1").then(r=>r.json()).then(setOrders);}},[status]);if(status!=="authenticated"){return(<div><Header t={t}/><div className="max-w-3xl mx-auto p-4">Please login.</div></div>);}return(<div><Header t={t}/><div className="max-w-5xl mx-auto p-4"><h2 className="text-2xl font-bold mb-4">{t("my_orders")}</h2><div className="space-y-3">{orders.map(o=>(<div key={o._id} className="card"><div className="font-semibold">{o.productTitle}</div><div className="text-sm">{t("status")}: {o.status}</div><div className="text-sm">{t("payment")}: {o.paymentMethod}</div><div className="text-xs text-gray-300">{t("created")}: {(new Date(o.createdAt)).toLocaleString()}</div></div>))}{orders.length===0&&<div>No orders yet.</div>}</div></div></div>)}
